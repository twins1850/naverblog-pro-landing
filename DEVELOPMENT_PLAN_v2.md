# 네이버 블로그 자동화 프로그램 종합 개발계획서 v2.0

## 📊 **현재 개발 완료 상황 (2024-12-19)**

### ✅ **1단계: 랜딩페이지 + 결제 시스템 (완료)**

- 토스페이먼츠 결제 연동
- 반응형 웹 디자인
- 결제 성공/실패 페이지

### ✅ **2단계: Google Sheets 고객 데이터 관리 (완료)**

- 고객 정보 자동 저장
- 실시간 데이터 동기화
- 관리자 대시보드

### ✅ **3단계: 라이선스 자동 발급 + 이메일 발송 시스템 (완료)**

- 라이선스 키 자동 생성 (`NAVER-XXXX-XXXX-XXXX-XXXX`)
- Gmail SMTP 이메일 자동 발송
- HTML 이메일 템플릿 (라이선스 키 + 다운로드 링크)
- Google Sheets "라이선스" 시트 자동 관리
- 실시간 발급 상태 표시
- 관리자 라이선스 관리 페이지
- 라이선스 재발송 기능

---

## 🚀 **4단계: 현재 시스템 설정 완료 (즉시 진행)**

### 4-1. 이메일 시스템 설정

- [ ] Gmail 2단계 인증 활성화
- [ ] Gmail 앱 비밀번호 생성
- [ ] `.env` 파일 `EMAIL_USER`, `EMAIL_PASS` 설정
- [ ] 이메일 발송 테스트

### 4-2. 고객 지원 정보 업데이트

- [ ] 실제 고객 지원 이메일 주소 설정
- [ ] 카카오톡 ID 설정
- [ ] 이메일 템플릿 내용 검토

### 4-3. 시스템 테스트

- [ ] 전체 결제 → 라이선스 발급 → 이메일 발송 플로우 테스트
- [ ] Google Sheets 데이터 저장 확인
- [ ] 관리자 페이지 기능 테스트

---

## 🎯 **5단계: 소비자용 프로그램 아키텍처 설계 (새로운 개발)**

### 5-1. 프로그램 버전 체계 설계

```
버전별 제한사항:
- v1.1: 아이디 1개, 글 1개, 1개월
- v2.3: 아이디 2개, 글 3개, 3개월
- v5.10: 아이디 5개, 글 10개, 12개월
- vPRO: 무제한, 12개월
```

### 5-2. 라이선스 키 구조 확장

```
현재: NAVER-XXXX-XXXX-XXXX-XXXX
확장: NAVER-[버전코드]-[기간코드]-[고유식별자]-[검증코드]

예시:
- NAVER-V23-M03-A1B2C3D4-E5F6 (v2.3, 3개월)
- NAVER-PRO-M12-X9Y8Z7W6-V5U4 (PRO, 12개월)
```

### 5-3. 데이터베이스 스키마 확장

```sql
라이선스 테이블 (Google Sheets 기반):
- 라이선스키 (기존)
- 프로그램버전 (신규: v1.1, v2.3, v5.10, vPRO)
- 아이디제한수 (신규: 1, 2, 5, 999)
- 글제한수 (신규: 1, 3, 10, 999)
- 사용개월수 (신규: 1, 3, 12)
- 활성화일시 (신규: 최초 인증 시간)
- 만료일시 (기존: 활성화일시 + 사용개월수)
- 현재사용아이디수 (신규: 실시간 추적)
- 현재작성글수 (신규: 실시간 추적)
```

---

## 🔐 **6단계: 소비자용 프로그램 개발 (핵심 개발)**

### 6-1. 라이선스 인증 시스템

- [ ] **초기 인증**: 라이선스 키 입력 → 서버 검증 → 로컬 저장
- [ ] **정기 검증**: 프로그램 실행 시마다 서버와 동기화
- [ ] **버전 검증**: 라이선스 키의 버전 코드와 프로그램 버전 매칭
- [ ] **기간 검증**: 만료일 확인 → 만료 시 프로그램 정지

### 6-2. 사용량 추적 시스템

- [ ] **아이디 사용량**: 등록된 네이버 아이디 수 실시간 카운트
- [ ] **글 작성량**: 작성된 글 수 실시간 카운트
- [ ] **제한 확인**: 설정된 제한 초과 시 기능 비활성화
- [ ] **서버 동기화**: 사용량 데이터 실시간 Google Sheets 업데이트

### 6-3. 보안 및 암호화

- [ ] **코드 난독화**: 소스코드 역공학 방지
- [ ] **라이선스 암호화**: 로컬 저장 라이선스 정보 암호화
- [ ] **무결성 검증**: 프로그램 변조 감지 및 차단
- [ ] **통신 암호화**: 서버와의 모든 통신 HTTPS + 추가 암호화

### 6-4. 자동 정지 시스템

- [ ] **만료 감지**: 구매 기간 만료 시 자동 프로그램 종료
- [ ] **제한 초과**: 아이디/글 수 제한 초과 시 기능 비활성화
- [ ] **불법 사용**: 라이선스 무효/변조 감지 시 즉시 차단
- [ ] **갱신 안내**: 만료 전 갱신 안내 메시지

---

## 🔗 **7단계: 통합 시스템 구축**

### 7-1. 라이선스 발급 시스템 확장

- [ ] 기존 라이선스 발급 API에 버전별 로직 추가
- [ ] 결제 시 선택한 플랜에 따른 라이선스 키 생성
- [ ] Google Sheets에 확장된 라이선스 정보 저장

### 7-2. 실시간 사용량 모니터링 API

```typescript
POST /api/license/verify
{
  "licenseKey": "NAVER-V23-M03-A1B2C3D4-E5F6",
  "programVersion": "v2.3",
  "currentAccounts": 2,
  "currentPosts": 3
}

Response:
{
  "valid": true,
  "canAddAccount": false,
  "canWritePost": false,
  "daysRemaining": 45,
  "message": "아이디 제한에 도달했습니다."
}
```

### 7-3. 관리자 도구 확장

- [ ] 라이선스별 실시간 사용량 모니터링
- [ ] 버전별 매출 통계
- [ ] 불법 사용 감지 및 차단 기능
- [ ] 라이선스 강제 비활성화 기능

---

## 🛡️ **8단계: 보안 강화**

### 8-1. 서버 측 보안

- [ ] API 레이트 리미팅
- [ ] IP 기반 접근 제한
- [ ] 라이선스 키 해시 저장
- [ ] 불법 액세스 로깅

### 8-2. 클라이언트 측 보안

- [ ] 하드웨어 핑거프린팅 (PC 고유 식별)
- [ ] 동시 접속 방지 (1개 PC에서만 사용)
- [ ] 메모리 보호 (디버깅 방지)
- [ ] 프로세스 감시 (변조 도구 감지)

---

## 📦 **9단계: 배포 및 버전 관리**

### 9-1. 프로그램 빌드 시스템

- [ ] 버전별 자동 빌드 (v1.1, v2.3, v5.10, vPRO)
- [ ] 디지털 서명 적용
- [ ] 자동 업데이트 시스템
- [ ] 다운로드 서버 구축

### 9-2. 버전 관리

```
파일 구조:
downloads/
├── v1.1/
│   └── naver-blog-v1.1.exe
├── v2.3/
│   └── naver-blog-v2.3.exe
├── v5.10/
│   └── naver-blog-v5.10.exe
└── vPRO/
    └── naver-blog-vPRO.exe
```

### 9-3. 다운로드 링크 동적 생성

- [ ] 라이선스 키에 따른 다운로드 링크 자동 결정
- [ ] 이메일 템플릿에 정확한 버전 링크 삽입
- [ ] 다운로드 횟수 제한 (보안)

---

## 🎯 **10단계: 운영 및 최적화**

### 10-1. 모니터링 시스템

- [ ] 실시간 라이선스 사용 현황
- [ ] 프로그램 사용 통계
- [ ] 에러 로깅 및 분석
- [ ] 성능 모니터링

### 10-2. 고객 지원 시스템

- [ ] 라이선스 문제 자동 진단
- [ ] 고객 문의 티켓 시스템
- [ ] FAQ 자동 생성
- [ ] 원격 지원 도구

---

## 📅 **개발 우선순위 및 일정**

### **즉시 진행 (1-2일)**

1. ✅ 라이선스 시스템 구축 완료
2. 🔄 Gmail 설정 및 테스트
3. 🔄 고객 지원 정보 업데이트

### **단기 (1-2주)**

1. 소비자용 프로그램 아키텍처 설계
2. 라이선스 키 구조 확장
3. 기본 인증 시스템 개발

### **중기 (1-2개월)**

1. 소비자용 프로그램 개발
2. 보안 시스템 구축
3. 통합 테스트

### **장기 (2-3개월)**

1. 운영 시스템 구축
2. 고객 지원 시스템
3. 성능 최적화

---

## 🎉 **최종 목표: 완전 자동화된 SaaS 서비스**

```
고객 결제 → 라이선스 자동 발급 → 이메일 발송 → 프로그램 다운로드 →
자동 인증 → 제한된 기능 사용 → 만료 시 자동 정지 → 재구매 유도
```

**모든 과정이 자동화되어 관리자 개입 없이 운영되는 완전한 SaaS 서비스 구축**
